<div class="top-bar">
  <h2>üë§ Meu Perfil</h2>
</div>

<main class="container">
  @if (!mostrarEdicaoPerfil) {
    <div class="profile-card">
      <div class="profile-pic">
        <img src="eletricista.png" alt="servico">
      </div>
  
      <div class="info">
        <h3>Jo√£o Silva</h3>
        <p class="role">Eletricista</p>
        <p class="stars">
          <span class="star">‚òÖ</span>
          <span class="star">‚òÖ</span>
          <span class="star empty">‚òÖ</span>
          <span class="star empty">‚òÖ</span>
          <span class="star empty">‚òÖ</span>
        </p>
  
        <p class="description">
          Descri√ß√£o: O Lorem Ipsum √© um texto modelo da ind√∫stria tipogr√°fica e de impress√£o. O Lorem Ipsum tem vindo a ser o texto padr√£o usado por estas ind√∫strias desde o ano de 1500, quando uma misturou os caracteres de um texto para criar um esp√©cime de livro. Este texto n√£o s√≥ sobreviveu 5 s√©culos, mas tamb√©m o salto para a tipografia electr√≥nica, mantendo-se essencialmente inalterada.
        </p>
  
        <div class="buttons">
          <!-- colocar um if para editar perfil aparecer somente quando for prestador -->
          @if (usuarioPrestador) {
            <button (click)="toggleEditarPerfil()">Editar Perfil</button>
          }
          <button (click)="toggleAvaliacoes()">Ver Todas as Avalia√ß√µes</button>
          <button (click)="contratarServico()">Contratar Servi√ßo</button>
        </div>
      </div>
  
      <div class="favorite-icon" (click)="addFavoritos()">ü§ç</div>
    </div>
  }

  @if (mostrarAvaliacoes) {
    <div class="avaliacoes">
      @for ( avaliacao of listaAvaliacoes; track $index) {
        <div class="avaliacao">
          <p><strong>{{ avaliacao.cliente }}</strong></p>
          <p>Nota: {{ avaliacao.nota }} ‚òÖ</p>
          <p>{{ avaliacao.comentario }}</p>
          <hr />
        </div>
      }
    </div>
  }

  @if (mostrarEdicaoPerfil) {
    <main class="container-edicao">
      <div class="card-edicao">
        <div class="imagem-perfil">
          <img src="eletricista.png" alt="Foto do prestador" />
        </div>

        <div class="formulario">
          <mat-form-field appearance="outline" color="accent">
            <label>Nome</label>
            <input matInput (ngModel)="nome" />
          </mat-form-field>

          <mat-form-field appearance="outline" color="accent">
            <label>Ocupa√ß√£o</label>
            <input matInput (ngModel)="ocupacao" />
          </mat-form-field>

          <mat-form-field appearance="outline" color="accent">
            <label>Descri√ß√£o</label>
            <textarea matInput rows="4" (ngModel)="descricao"></textarea>
          </mat-form-field>

          <div class="acoes">
            <button mat-raised-button style="background-color: #a68ddf;" (click)="salvar()">Salvar Altera√ß√µes</button>
          </div>
        </div>
      </div>
    </main>
  }

</main>
